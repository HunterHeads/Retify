(function(t){function e(e){for(var r,a,s=e[0],c=e[1],u=e[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={app:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/Retify/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0226":function(t,e,n){},2643:function(t,e,n){},2938:function(t,e,n){},"39b9":function(t,e,n){},"4cc9":function(t,e,n){"use strict";var r=n("2643"),i=n.n(r);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("loading-overlay"),n("notification-component"),t.isLogged?n("navigation-bar"):t._e(),n("v-content",{style:"background-color: "+this.backgroundColor},[n("v-container",{attrs:{fluid:""}},[n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}})])]),n("router-view")],1)],1)},o=[],a=n("5530"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-overlay",{attrs:{value:t.isLoading}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)},c=[],u=n("2f62"),l={computed:Object(a["a"])({},Object(u["b"])("commonStore",["isLoading"]))},d=l,p=n("2877"),f=Object(p["a"])(d,s,c,!1,null,null,null),m=f.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isVisible?n("v-alert",{staticClass:"notification",attrs:{type:t.type,dismissible:"",transition:"slide-y-transition"}},[t._v(" "+t._s(t.message)+" ")]):t._e()},v=[],g={computed:Object(a["a"])({},Object(u["b"])("notificationStore",["message","type","isVisible"]))},b=g,y=(n("8f47"),Object(p["a"])(b,h,v,!1,null,null,null)),w=y.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{app:"",permanent:"",width:"200","hide-overlay":"",persistent:"",clipped:"",color:t.color,"expand-on-hover":t.expandOnHover,src:t.bg,absolute:"",dark:""}},[n("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[n("v-list-item",{class:t.miniVariant&&"px-0",attrs:{"two-line":""}},[n("v-list-item-avatar",[n("img",{attrs:{src:"https://image.winudf.com/v2/image1/Y29tLmVyZ2VjLnJhbmRvbXVzZXJnZW5lcmF0b3JfaWNvbl8xNTYzOTgzNjI4XzAxMg/icon.png?w=170&fakeurl=1"}})]),n("v-list-item-content",[n("v-list-item-title",[t._v("Zalogowano")]),n("v-list-item-subtitle",[t._v(t._s(t.username))])],1)],1),n("v-divider"),t._l(t.items,(function(e){return n("v-list-item",{directives:[{name:"show",rawName:"v-show",value:!e.isHidden,expression:"!item.isHidden"}],key:e.title,attrs:{link:"",to:e.to}},[n("v-list-item-icon",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.title))])],1)],1)}))],2)],1)},_=[],S=function(){return{isLogged:!1,username:"",isSpotify:!1}},C={namespaced:!0,state:S(),mutations:{setIsLogged:function(t,e){t.isLogged=e.isLogged},setUsername:function(t,e){t.username=e.username},setIsSpotify:function(t,e){t.isSpotify=e.isSpotify}},actions:{login:function(t,e){var n=t.commit,r=e.username,i=e.isSpotify;n("setIsLogged",{isLogged:!0}),n("setUsername",{username:r}),n("setIsSpotify",{isSpotify:i})},logout:function(t){var e=t.commit;e("setIsLogged",{isLogged:!1}),e("setUsername",{username:""})}}},O=(n("c975"),n("d3b7"),n("07ac"),n("25f0"),{ERROR:"error",WARNING:"warning",INFO:"info",SUCCESS:"success"}),x=function(){return{message:"",type:"",isVisible:!1,timeoutId:null}},j={namespaced:!0,state:x(),mutations:{setMessage:function(t,e){t.message=e.message},setType:function(t,e){-1===Object.values(O).indexOf(e.type)?t.type=O.INFO:t.type=e.type},hideNotification:function(t){t.isVisible=!1},showNotification:function(t){t.isVisible=!0},setTimeoutId:function(t,e){t.timeoutId=e.timeoutId},clearTimeout:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){clearTimeout(t.timeoutId),t.timeoutId=null}))},actions:{showNotification:function(t,e){var n=t.commit,r=e.message,i=e.type;n("setMessage",{message:r}),n("setType",{type:i}),n("showNotification"),setTimeout((function(){return n("hideNotification")}),5e3)}}},R=function(){return{isLoading:!1,backgroundColor:"#e8f1f7"}},L={namespaced:!0,state:R(),mutations:{setIsLoading:function(t,e){t.isLoading=e.isLoading},setBackgroundColor:function(t,e){t.backgroundColor=e.backgroundColor}},actions:{showLoading:function(t){var e=t.commit;e("setIsLoading",{isLoading:!0})},hideLoading:function(t){var e=t.commit;e("setIsLoading",{isLoading:!1})},setBackgroundColor:function(t,e){var n=t.commit;n("setBackgroundColor",{backgroundColor:e})}}},E=n("0e44");r["default"].use(u["a"]);var I=new u["a"].Store({plugins:[Object(E["a"])()],modules:{authenticationStore:C,notificationStore:j,commonStore:L}});function T(t,e){I.dispatch("notificationStore/showNotification",{message:t,type:e})}function M(){}function N(){I.dispatch("commonStore/hideLoading")}function P(){return I.state.authenticationStore.username}var $={data:function(){return{drawer:!0,items:[],color:"primary",colors:["primary","blue","success","red","teal"],right:!1,miniVariant:!0,expandOnHover:!1,background:!0,username:null,printables:{LOGIN_WITH_SPOTIFY:"Zaloguj do Spotify"}}},computed:Object(a["a"])({},Object(u["b"])("authenticationStore",["isSpotify"]),{bg:function(){return this.background?"https://cdn.vuetifyjs.com/images/backgrounds/bg-2.jpg":""}}),beforeMount:function(){this.items=[{title:"Strona główna",icon:"$vuetify.icons.dash",to:"/dashboard"},{title:"Najlepsze",icon:"$vuetify.icons.star",to:"/top-rated"},{title:"Ocenione",icon:"$vuetify.icons.music",to:"/browse-songs"},{title:"Słuchaj",icon:"$vuetify.icons.play",to:"/play"},{title:"Ustawienia",icon:"$vuetify.icons.prefs",to:"/settings"},{title:"Zaloguj ze Spotify",icon:"$vuetify.icons.login",to:"/login-with-spotify",isHidden:this.isSpotify},{title:"Wyloguj się",icon:"$vuetify.icons.logout",to:"/logout"}],this.username=P()}},A=$,B=Object(p["a"])(A,k,_,!1,null,null,null),z=B.exports,F={components:{NotificationComponent:w,NavigationBar:z,LoadingOverlay:m},computed:Object(a["a"])({},Object(u["b"])("authenticationStore",["isLogged"]),{},Object(u["b"])("commonStore",["backgroundColor"]))},G=F,H=Object(p["a"])(G,i,o,!1,null,null,null),Z=H.exports,W=n("8c4f"),U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dash"},[n("v-row",[n("Card",{staticClass:"friendsCard",attrs:{cardTitle:t.titles.friends}},[n("FriendList",{attrs:{friends:t.friends,onFriend:t.onFriend}})],1),n("Card",{staticClass:"card",attrs:{cardTitle:t.titles.rateSongs}},[n("RateSongList",{attrs:{songs:t.songs,onSongRated:t.onSongRated,onMoreSongs:t.onMoreSongs}})],1)],1)],1)},D=[],V=(n("fb6a"),n("96cf"),n("1da1")),Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",[t._l(t.friends,(function(t,e){return n("v-list-item",{key:e},[n("FriendItem",{attrs:{friend:t}})],1)})),n("v-list-item",[n("MoreButton",{attrs:{title:t.titles.more,onClick:t.onMoreFriends}})],1)],2)},J=[],K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[n("v-card",{staticClass:"ml-8",attrs:{elevation:r?8:2}},[n("div",{staticClass:"cardTitle"},[t._v(t._s(t.cardTitle))]),n("v-divider"),n("div",{staticClass:"cardContent"},[t._t("default")],2)],1)]}}],null,!0)})},X=[],q={props:{cardTitle:String}},Q=q,tt=Object(p["a"])(Q,K,X,!1,null,null,null),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"more"},[n("div",{staticClass:"button-title",on:{click:t.onClick}},[t._v(" "+t._s(t.title)+" ")])])},rt=[],it={props:{title:String,onClick:Function}},ot=it,at=(n("b6ad"),Object(p["a"])(ot,nt,rt,!1,null,null,null)),st=at.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"friend"},[n("v-list-item-avatar",[n("v-img",{attrs:{src:t.friend.avatar}})],1),n("v-list-item-content",{staticClass:"text-left"},[n("v-list-item-title",{domProps:{innerHTML:t._s(t.friend.name)}}),t.friend.nowListening?n("v-list-item-subtitle",{domProps:{innerHTML:t._s(t.musicNote+t.friend.nowListening)}}):t._e()],1)],1)},ut=[],lt={props:{friend:Object},data:function(){return{musicNote:"♫ "}}},dt=lt,pt=Object(p["a"])(dt,ct,ut,!1,null,null,null),ft=pt.exports,mt={components:{FriendItem:ft,MoreButton:st},props:{friends:Array},data:function(){return{titles:{more:"Zobacz więcej"}}},methods:{onMoreFriends:function(){}}},ht=mt,vt=Object(p["a"])(ht,Y,J,!1,null,null,null),gt=vt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",[t._l(t.songs,(function(t,e){return n("v-list-item",{key:e},[n("RateSong",{attrs:{song:t}})],1)})),n("v-list-item",[n("MoreButton",{attrs:{title:t.titles.more,onClick:t.onMoreSongs}})],1)],2)},yt=[],wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rateSongItem"},[n("v-list-item-avatar",[n("v-icon",[t._v("$vuetify.icons.song")])],1),n("v-list-item-content",{staticClass:"text-left"},[n("v-list-item-title",{domProps:{innerHTML:t._s(t.song.title)},on:{click:t.onTitleClick}}),n("v-list-item-subtitle",{domProps:{innerHTML:t._s(t.song.author)},on:{click:t.onAuthorClick}})],1),n("div",[n("v-rating",{attrs:{length:5,"empty-icon":"mdi-heart-outline","full-icon":"mdi-heart","half-icon":"mdi-heart-half-full","half-increments":!0,hover:!0,readonly:!1,size:15,dense:!1,color:"red lighten-1","background-color":"red lighten-3"},on:{input:t.onRate},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}})],1)],1)},kt=[],_t=n("bc3a"),St=n.n(_t),Ct="https://retify-deploy.herokuapp.com";function Ot(t){return xt.apply(this,arguments)}function xt(){return xt=Object(V["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",St()("".concat(Ct,"/api/spotify/songs/").concat(e),{method:"GET",withCredentials:!0}).then((function(t){return t.data})));case 1:case"end":return t.stop()}}),t)}))),xt.apply(this,arguments)}function jt(t,e){return Rt.apply(this,arguments)}function Rt(){return Rt=Object(V["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",St()("".concat(Ct,"/api/retify/rate/song"),{method:"PUT",data:{songId:e,rate:n},withCredentials:!0}).then((function(t){return t.data})));case 1:case"end":return t.stop()}}),t)}))),Rt.apply(this,arguments)}function Lt(){return Et.apply(this,arguments)}function Et(){return Et=Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",St()("".concat(Ct,"/api/retify/top/songs"),{method:"GET",withCredentials:!0}).then((function(t){return t.data})));case 1:case"end":return t.stop()}}),t)}))),Et.apply(this,arguments)}var It="https://retify-deploy.herokuapp.com";function Tt(t,e){return Mt.apply(this,arguments)}function Mt(){return Mt=Object(V["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:M(),St()("".concat(It,"/api/retify/register"),{method:"POST",data:{username:e,password:n},withCredentials:!0}).then((function(t){201===t.status?(I.dispatch("authenticationStore/login",{username:e}),gn.push("dashboard").catch((function(){})),T("You successfully signed up",O.SUCCESS)):T(t.data,O.ERROR)})).catch((function(t){T(t.response.data,O.ERROR)})).finally((function(){N()}));case 2:case"end":return t.stop()}}),t)}))),Mt.apply(this,arguments)}function Nt(t,e){return Pt.apply(this,arguments)}function Pt(){return Pt=Object(V["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:M(),St()("".concat(It,"/api/retify/login"),{method:"POST",data:{username:e,password:n},withCredentials:!0}).then((function(t){200===t.status?(I.dispatch("authenticationStore/login",{username:e}),gn.push("dashboard").catch((function(){})),T("You successfully logged in",O.SUCCESS)):T(t.data,O.ERROR)})).catch((function(t){T(t.response.data,O.ERROR)})).finally((function(){N()}));case 2:case"end":return t.stop()}}),t)}))),Pt.apply(this,arguments)}function $t(){return At.apply(this,arguments)}function At(){return At=Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:window.location.href="".concat(It,"/api/spotify/login");case 1:case"end":return t.stop()}}),t)}))),At.apply(this,arguments)}function Bt(){return zt.apply(this,arguments)}function zt(){return zt=Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:St()("".concat(It,"/api/retify/logout"),{method:"GET",withCredentials:!0}).then((function(){I.dispatch("authenticationStore/logout"),gn.push("login").catch((function(){})),T("You successfully logged out",O.SUCCESS)}));case 1:case"end":return t.stop()}}),t)}))),zt.apply(this,arguments)}var Ft="https://retify-deploy.herokuapp.com";function Gt(){return Ht.apply(this,arguments)}function Ht(){return Ht=Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",St()("".concat(Ft,"/api/spotify/me/recently-played"),{method:"GET",withCredentials:!0}).then((function(t){return t.data})));case 1:case"end":return t.stop()}}),t)}))),Ht.apply(this,arguments)}function Zt(t){return Wt.apply(this,arguments)}function Wt(){return Wt=Object(V["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",St()("".concat(Ft,"/api/retify/my-rates/songs/").concat(e),{method:"GET",withCredentials:!0}).then((function(t){return t.data})));case 1:case"end":return t.stop()}}),t)}))),Wt.apply(this,arguments)}function Ut(){return Dt.apply(this,arguments)}function Dt(){return Dt=Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",St()("".concat(Ft,"/api/retify/my-rates/songs"),{method:"GET",withCredentials:!0}).then((function(t){return t.data})));case 1:case"end":return t.stop()}}),t)}))),Dt.apply(this,arguments)}var Vt={props:{song:Object},data:function(){return{rate:null}},created:function(){return Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{onRate:function(t){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:jt(e.song.id,t);case 1:case"end":return n.stop()}}),n)})))()},onAuthorClick:function(){var t=this;return Object(V["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.open("https://open.spotify.com/artist/".concat(t.song.authorId));case 1:case"end":return e.stop()}}),e)})))()},onTitleClick:function(){var t=this;return Object(V["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.open("https://open.spotify.com/track/".concat(t.song.id));case 1:case"end":return e.stop()}}),e)})))()}}},Yt=Vt,Jt=Object(p["a"])(Yt,wt,kt,!1,null,null,null),Kt=Jt.exports,Xt={components:{RateSong:Kt,MoreButton:st},props:{songs:Array,onMoreSongs:Function},data:function(){return{titles:{more:"Zobacz więcej"}}}},qt=Xt,Qt=Object(p["a"])(qt,bt,yt,!1,null,null,null),te=Qt.exports,ee=[{name:"Anna Śmigła",avatar:"https://cutt.ly/ut1Cf40",nowListening:"Ave Maria",id:"11"},{name:"Jan Kowalski",avatar:"https://cutt.ly/Et1CbH6",nowListening:"Takiego Janicka",id:"22"},{name:"Ryszard Kot",avatar:"https://cutt.ly/Ct1CmpN",id:"33"},{name:"Zofia Król",avatar:"https://www.rd.com/wp-content/uploads/2017/09/01-shutterstock_476340928-Irina-Bg-1024x683.jpg",id:"33"},{name:"Bernardetta Szczypta",avatar:"https://i2.wp.com/digital-photography-school.com/wp-content/uploads/2016/02/Headshot-Photography-London-1052.jpeg?fit=750%2C500&ssl=1",id:"33"}],ne=ee;n("4de4"),n("4160"),n("d81d"),n("b0c0"),n("3ca3"),n("159b"),n("ddb0");function re(){return ie.apply(this,arguments)}function ie(){return ie=Object(V["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return M(),t.next=3,Gt();case 3:if(e=t.sent.items,e){t.next=7;break}return N(),t.abrupt("return");case 7:return n=[],e.forEach((function(t){n.push(Zt(t.track.id))})),t.next=11,Promise.all(n).then((function(t){return N(),e.filter((function(e,n){return!t[n][0]})).map((function(t){return{id:t.track.id,title:t.track.name,author:t.track.artists[0].name,authorId:t.track.artists[0].id,rate:0}}))}));case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t)}))),ie.apply(this,arguments)}var oe={components:{FriendList:gt,RateSongList:te,Card:et,MoreButton:st},data:function(){return{titles:{friends:"Przyjaciele",rateSongs:"Oceń piosenki",more:"Zobacz więcej"},friends:ne,songs:[],avatar:!0,flat:!0,twoLine:!0,musicNote:"♫ ",moreTitle:"Zobacz więcej",moreIcon:"$vuetify.icons.more"}},computed:{last3Friends:function(){return this.friends.slice(0,3)}},created:function(){var t=this;return Object(V["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:t.songs=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{onMoreFriends:function(){},onMoreSongs:function(){},onSongRated:function(){},onFriend:function(){}}},ae=oe,se=(n("caf5"),Object(p["a"])(ae,U,D,!1,null,null,null)),ce=se.exports,ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("v-row",[n("Card",{staticClass:"card",attrs:{cardTitle:t.titles.topSongs}},[n("TopSongList",{attrs:{songs:t.topSongs}})],1)],1)],1)},le=[],de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",[t._l(t.songs,(function(t,e){return n("v-list-item",{key:e},[n("TopSongItem",{attrs:{topSong:t}})],1)})),n("v-list-item",[n("MoreButton",{attrs:{title:t.titles.more,onClick:t.onMoreButtonClick}})],1)],2)},pe=[],fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topItem",on:{click:t.onClick}},[n("v-list-item-avatar",[n("v-icon",{attrs:{color:"blue",large:""}},[t._v("$vuetify.icons.song")])],1),n("v-list-item-content",{staticClass:"text-left"},[n("v-list-item-title",{domProps:{innerHTML:t._s(t.topSong.title)}}),n("v-list-item-subtitle",{domProps:{innerHTML:t._s(t.topSong.artist)}}),n("v-list-item-subtitle",{domProps:{innerHTML:t._s(t.ratesCountPrintable)}})],1),n("v-rating",{attrs:{length:5,"empty-icon":"mdi-heart-outline","full-icon":"mdi-heart","half-icon":"mdi-heart-half-full","half-increments":!0,hover:!1,readonly:!0,size:12,dense:!1,color:"red lighten-1","background-color":"red lighten-3"},model:{value:t.topSong.rate,callback:function(e){t.$set(t.topSong,"rate",e)},expression:"topSong.rate"}})],1)},me=[],he={props:{topSong:Object},data:function(){return{}},computed:{ratesCountPrintable:function(){return"ilość ocen: ".concat(this.topSong.count)}},methods:{onClick:function(){}}},ve=he,ge=Object(p["a"])(ve,fe,me,!1,null,null,null),be=ge.exports,ye={props:{songs:Array},data:function(){return{titles:{more:"Zobacz więcej"}}},components:{TopSongItem:be,MoreButton:st},methods:{onMoreButtonClick:function(){}}},we=ye,ke=Object(p["a"])(we,de,pe,!1,null,null,null),_e=ke.exports,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{attrs:{flat:t.flat,avatar:t.avatar}},[t._l(t.artists,(function(t,e){return n("v-list-item",{key:e},[n("TopArtistItem",{attrs:{artist:t}})],1)})),n("v-list-item",[n("MoreButton",{attrs:{title:t.titles.more,onClick:""}})],1)],2)},Ce=[],Oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topItem",on:{click:t.onClick}},[n("v-list-item-avatar",[n("v-icon",{attrs:{color:"blue",large:""}},[t._v("$vuetify.icons.account")])],1),n("v-list-item-content",{staticClass:"text-left"},[n("v-list-item-title",{domProps:{innerHTML:t._s(t.artist.artist)}}),n("v-list-item-subtitle",{domProps:{innerHTML:t._s(t.ratesCountPrintable)}})],1),n("v-rating",{attrs:{length:5,"empty-icon":"mdi-heart-outline","full-icon":"mdi-heart","half-icon":"mdi-heart-half-full","half-increments":!0,hover:!1,readonly:!0,size:12,dense:!1,color:"red lighten-1","background-color":"red lighten-3"},model:{value:t.artist.average,callback:function(e){t.$set(t.artist,"average",e)},expression:"artist.average"}})],1)},xe=[],je={props:{artist:Object},data:function(){return{}},computed:{ratesCountPrintable:function(){return"ilość ocen: ".concat(this.artist.ratesCount)}},methods:{onClick:function(){}}},Re=je,Le=Object(p["a"])(Re,Oe,xe,!1,null,null,null),Ee=Le.exports,Ie={props:{artists:Array},data:function(){return{titles:{more:"Zobacz więcej"}}},components:{TopArtistItem:Ee,MoreButton:st},methods:{onArtistClick:function(){}}},Te=Ie,Me=Object(p["a"])(Te,Se,Ce,!1,null,null,null),Ne=Me.exports;function Pe(){return $e.apply(this,arguments)}function $e(){return $e=Object(V["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return M(),t.next=3,Lt();case 3:return e=t.sent,n=[],e.forEach((function(t){return n.push(Ot(t.songId))})),t.next=8,Promise.all(n).then((function(t){return N(),t.filter((function(t){return t.id})).map((function(t,n){return{title:t.name,author:t.artists[0].name,songId:t.id,rate:e[n].rate,count:e[n].count}}))}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)}))),$e.apply(this,arguments)}var Ae={components:{Card:et,MoreButton:st,TopSongList:_e,TopArtistList:Ne},data:function(){return{topSongs:[],titles:{topSongs:"Top 50 piosenek",topArtists:"Top 50 artystów"}}},created:function(){var t=this;return Object(V["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:t.topSongs=e.sent;case 3:case"end":return e.stop()}}),e)})))()},computed:{},methods:{}},Be=Ae,ze=(n("74f0"),Object(p["a"])(Be,ue,le,!1,null,null,null)),Fe=ze.exports,Ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loginCon"},[n("div",{staticStyle:{display:"flex",flex:"1"}},[n("div",{staticClass:"image"}),n("div",{staticClass:"login"},[n("v-col",{attrs:{"offset-md":"1"}},[n("div",{staticClass:"header"},[t._v(t._s(t.printables.WELCOME))]),n("v-card",{staticClass:"elevation-12",attrs:{width:"90%",height:"45%"}},[n("v-toolbar",{attrs:{color:t.primaryColor,dark:"",flat:""}},[n("v-toolbar-title",[t._v(t._s(t.printables.SIGN_IN))])],1),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{label:t.printables.LOGIN,name:"login",type:"text"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onLogin(e)}},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),n("v-text-field",{attrs:{id:"password",label:t.printables.PASSWORD,name:"password",type:"password"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onLogin(e)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),n("v-card-actions",[n("v-row",{attrs:{cols:"12",align:"center"}},[n("v-col",{attrs:{md:"1"}}),n("v-col",{attrs:{md:"6","align-self":"center"}},[n("v-spacer",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.rememberMe,expression:"rememberMe"}],staticStyle:{margin:"1%"},attrs:{type:"checkbox",id:"remember-me"},domProps:{checked:Array.isArray(t.rememberMe)?t._i(t.rememberMe,null)>-1:t.rememberMe},on:{change:function(e){var n=t.rememberMe,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&(t.rememberMe=n.concat([o])):a>-1&&(t.rememberMe=n.slice(0,a).concat(n.slice(a+1)))}else t.rememberMe=i}}}),n("label",{attrs:{for:"remember-me"}}),n("span",{staticStyle:{"padding-left":"2%"}},[t._v(t._s(t.printables.REMEMBER))])])],1),n("v-col",{attrs:{md:"5"}},[n("v-btn",{attrs:{outlined:"","x-large":"",rounded:"",color:t.primaryColor},on:{click:t.onLogin}},[t._v(t._s(t.printables.LOGIN_BUTTON))])],1)],1)],1)],1),n("div",{staticClass:"buttons"},[n("div",{staticClass:"button"},[n("v-btn",{staticClass:"white--text",attrs:{"x-large":"",rounded:"",depressed:"",color:t.primaryColor},on:{click:t.onRegister}},[t._v(t._s(t.printables.SIGN_UP))])],1),n("div",[n("v-btn",{staticClass:"white--text",attrs:{"x-large":"",rounded:"",medium:"",depressed:"",color:t.primaryColor},on:{click:t.onLoginWithSpotify}},[t._v(t._s(t.printables.SIGN_UP_SPOTIFY))])],1)]),n("v-row",{attrs:{cols:"1"}},[n("v-col",{staticStyle:{"font-size":"20px",margin:"2%"}},[n("a",{attrs:{href:""}},[t._v(t._s(t.printables.FORGOT_PASSWORD))])])],1)],1)],1)])])},He=[],Ze={data:function(){return{rememberMe:!1,primaryColor:"#5e81f7",form:{username:"",password:""},printables:{WELCOME:"Witaj w Retify!",SIGN_IN:"Zaloguj się",LOGIN:"Login",PASSWORD:"Hasło",REMEMBER:"Pamiętaj mnie",LOGIN_BUTTON:"Zaloguj",SIGN_UP:"Zarejestruj się",SIGN_UP_SPOTIFY:"Zaloguj się ze Spotify",FORGOT_PASSWORD:"Zapomniałeś hasła?"}}},methods:{onLogin:function(){Nt(this.form.username,this.form.password)},onLoginWithSpotify:function(){$t()},onRegister:function(){this.$router.push("register")}}},We=Ze,Ue=(n("6162"),Object(p["a"])(We,Ge,He,!1,null,null,null)),De=Ue.exports,Ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("v-card",{attrs:{width:"100%",height:"100%"}},[n("v-card-title",[t._v(" "+t._s(t.title)+" "),n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("v-data-table",{attrs:{headers:t.headers,items:t.songs,search:t.search}})],1)],1)},Ye=[];function Je(){return Ke.apply(this,arguments)}function Ke(){return Ke=Object(V["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ut();case 2:return e=t.sent,n=[],e.forEach((function(t){return n.push(Ot(t.songId))})),t.next=7,Promise.all(n).then((function(t){return t.map((function(t,n){return{title:t.name,author:t.artists[0].name,songId:t.id,rate:e[n].rate}}))}));case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)}))),Ke.apply(this,arguments)}var Xe={data:function(){return{title:"Przeglądaj piosenki",search:"",headers:[{text:"Utwór",align:"start",sortable:!0,value:"title"},{text:"Wykonawca",value:"author"},{text:"Moja ocena",value:"rate"}],songs:[]}},created:function(){var t=this;return Object(V["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Je();case 2:t.songs=e.sent;case 3:case"end":return e.stop()}}),e)})))()}},qe=Xe,Qe=(n("58f1"),Object(p["a"])(qe,Ve,Ye,!1,null,null,null)),tn=Qe.exports,en=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"card"},[n("v-card",{attrs:{width:"100%"}},[n("div",{staticClass:"picker"},[n("div",{staticClass:"text"},[t._v(" Wybierz aktualne tło w aplikacji ")]),n("v-color-picker",{model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1)])],1)])},nn=[],rn={data:function(){return{color:I.state.commonStore.backgroundColor}},watch:{color:function(){I.dispatch("commonStore/setBackgroundColor",this.color)}}},on=rn,an=(n("4cc9"),Object(p["a"])(on,en,nn,!1,null,null,null)),sn=an.exports,cn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"registerCon"},[n("div",{staticClass:"register"},[n("div",{staticClass:"header"},[t._v(" Rejestracja ")]),n("div",{staticClass:"content"},[n("v-form",[n("v-text-field",{attrs:{autofocus:"","full-width":"",label:t.printables.MAIL,name:"mail",type:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),n("v-text-field",{attrs:{"full-width":"",label:t.printables.CONFIRM_MAIL,name:"mail_confirm",type:"e-mail"}}),n("v-text-field",{attrs:{"full-width":"",label:t.printables.PASSWORD,name:"password",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),n("v-text-field",{attrs:{"full-width":"",label:t.printables.NICK,name:"nick",type:"text"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),n("div",{staticClass:"date"},[t._v(" "+t._s(t.printables.SELECT_BIRTHDATE)+" ")]),n("v-date-picker",{attrs:{color:"blue",dark:""},model:{value:t.form.dateOfBirth,callback:function(e){t.$set(t.form,"dateOfBirth",e)},expression:"form.dateOfBirth"}})],1),n("div",{staticClass:"button"},[n("v-btn",{staticClass:"white--text",attrs:{large:"",rounded:"",elevation:"3",color:"blue"},on:{click:t.onRegister}},[t._v("Zarejestruj")])],1)])])},un=[],ln={data:function(){return{form:{email:null,username:null,password:null,dateOfBirth:null},printables:{MAIL:"Adres e-mail",CONFIRM_MAIL:"Potwierdź adres e-mail",PASSWORD:"Hasło",NICK:"Nazwa użytkownika",SELECT_BIRTHDATE:"Zaznacz datę urodzenia"},visible:!1}},methods:{onRegister:function(){Tt(this.form.email,this.form.password)}}},dn=ln,pn=(n("e886"),Object(p["a"])(dn,cn,un,!1,null,null,null)),fn=pn.exports;r["default"].use(W["a"]);var mn=[{path:"/login",name:"Login",component:De},{path:"/register",name:"Register",component:fn},{path:"/logout",name:"Login",component:De,beforeEnter:function(t,e,n){Bt("authentication/logout"),n()}},{path:"/dashboard",name:"Dashboard",component:ce,beforeEnter:hn},{path:"/top-rated",name:"topRated",component:Fe,beforeEnter:hn},{path:"/browse-songs",name:"BrowseSongs",component:tn,beforeEnter:hn},{path:"/play",beforeEnter:function(){window.open("https://open.spotify.com/")}},{path:"/settings",component:sn,beforeEnter:hn},{path:"/login-with-spotify",beforeEnter:function(){$t()}},{path:"/callback",beforeEnter:function(){console.log("LOGGED"),I.dispatch("authenticationStore/login",{isSpotify:!0}),vn.push("dashboard").catch((function(){}))}},{path:"/",redirect:"/login"}];function hn(t,e,n){if(!I.state.authenticationStore.isLogged)return I.dispatch("notificationStore/showNotification",{message:"You need to log in first",type:O.WARNING}),void vn.push("login").catch((function(){}));n()}var vn=new W["a"]({routes:mn}),gn=vn,bn=n("ce5b"),yn=n.n(bn);n("bf40");r["default"].use(yn.a);var wn=new yn.a({icons:{iconfont:"mdi",values:{dash:"mdi-view-dashboard",star:"mdi-star",artist:"mdi-artist",music:"mdi-music",play:"mdi-play",prefs:"mdi-settings",logout:"mdi-location-exit",login:"mdi-login",more:"mdi-more",song:"mdi-music-circle",account:"mdi-account-circle"}}});r["default"].config.productionTip=!1,new r["default"]({vuetify:wn,router:gn,store:I,render:function(t){return t(Z)}}).$mount("#app")},"58f1":function(t,e,n){"use strict";var r=n("39b9"),i=n.n(r);i.a},6162:function(t,e,n){"use strict";var r=n("2938"),i=n.n(r);i.a},"74f0":function(t,e,n){"use strict";var r=n("c797"),i=n.n(r);i.a},8215:function(t,e,n){},"8f47":function(t,e,n){"use strict";var r=n("0226"),i=n.n(r);i.a},b6ad:function(t,e,n){"use strict";var r=n("ee22"),i=n.n(r);i.a},c1fa:function(t,e,n){},c797:function(t,e,n){},caf5:function(t,e,n){"use strict";var r=n("8215"),i=n.n(r);i.a},e886:function(t,e,n){"use strict";var r=n("c1fa"),i=n.n(r);i.a},ee22:function(t,e,n){}});
//# sourceMappingURL=app.9af705e6.js.map